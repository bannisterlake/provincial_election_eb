(this["webpackJsonpvizzion-client"]=this["webpackJsonpvizzion-client"]||[]).push([[0],{106:function(e,t,a){e.exports=a(218)},111:function(e,t,a){},112:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},113:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(95),i=a.n(o),l=(a(111),a(29)),c=(a(112),a(113),a(232)),s=a(231),u=Object(c.a)({partyContainer:function(e){return{backgroundColor:e.party.color,padding:5,maxHeight:40,margin:3,borderRadius:5,color:"white",fontWeight:"bold",letterSpacing:1,display:"flex",justifyContent:"space-between"}}}),d=function(e){var t=u(e);return r.a.createElement("div",{className:t.partyContainer},r.a.createElement("div",null,e.party.nameShort),r.a.createElement("div",null,e.result))},m=Object(c.a)({partyContainer:function(e){return{height:25,margin:3,width:"80%",color:"black",fontWeight:"bold",letterSpacing:1,display:"flex",position:"relative",justifyContent:"space-between",borderBottom:"1px solid black"}},gainsBar:function(e){return{backgroundColor:e.color,position:"absolute",bottom:0,left:"50%",width:"".concat(e.width/2,"%"),height:"60%",margin:0,padding:0}}}),f=function(e){var t=m(e);return r.a.createElement("div",{className:t.partyContainer},"-",r.a.createElement("div",{className:t.gainsBar}),"+")},g=Object(c.a)({gainsDiv:{flex:5,display:"flex",flexDirection:"column",alignItems:"center"}}),h=function(e){var t=Object(n.useState)(0),a=Object(l.a)(t,2),o=a[0],i=a[1],c=g(e);return Object(n.useEffect)((function(){var t=0;e.data&&(e.data.partyResults.forEach((function(e){console.log("party",e.seatChange,t),Math.abs(e.seatChange)>t&&(t=Math.abs(e.seatChange))})),i(t))}),[e.data]),r.a.createElement("div",{className:c.gainsDiv},e.data&&e.data.partyResults.map((function(e,t){return r.a.createElement(f,{key:t,color:e.color,width:Math.abs(e.seatChange)/(o+1)*100})})))},p=Object(c.a)({main:{display:"flex",position:"relative",flexDirection:"row",padding:"10px 20px",backgroundColor:"#f2f2f2",alignContent:"center"},left:{flex:3,height:250,alignItems:"center"},right:{flex:4,height:250},title:{fontWeight:"bold",marginLeft:5},border:{borderRight:"1px solid grey",marginRight:10},chartHolder:{display:"flex",flexDirection:"row",height:"100%",alignItems:"center"},partyBars:{flex:3,alignSelf:"center"},chartDiv:{flex:2}});var v=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!0),c=Object(l.a)(i,2),u=c[0],m=c[1],f=p();Object(n.useEffect)((function(){return[g()]}),[]);var g=function(){fetch("/overallresults").then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),o(e),m(!1)}))};return r.a.createElement("div",{className:f.main},!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:f.left},r.a.createElement("div",{className:f.title},"Popular vote"),r.a.createElement("div",{className:f.chartHolder},r.a.createElement("div",{className:f.partyBars},a&&a.partyResults.map((function(e,t){return console.log(e),r.a.createElement(d,{key:t,party:e,result:"".concat(e.votesPercent,"%")})}))),r.a.createElement("div",{className:f.chartDiv},a&&r.a.createElement(s.a,{padding:{top:0,left:20,right:20,bottom:0},padAngle:function(e){return e.datum.y},innerRadius:130,data:a.partyResults,x:"nameShort",y:"votesPercent",labels:function(e){e.datum;return""},style:{data:{fill:function(e){return e.datum.color}}}})))),r.a.createElement("div",{className:f.border}),r.a.createElement("div",{className:f.right},r.a.createElement("div",{className:f.title},"Gains/Loses"),r.a.createElement("div",{className:f.chartHolder},r.a.createElement("div",{className:f.partyBars},a&&a.partyResults.map((function(e,t){return r.a.createElement(d,{key:t,party:e,result:"".concat(e.seatChange)})}))),r.a.createElement(h,{data:a})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[106,1,2]]]);
//# sourceMappingURL=main.f42e337f.chunk.js.map